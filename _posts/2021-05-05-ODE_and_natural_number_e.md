---
title: 미분방정식과 자연상수 e
sidebar:
  nav: docs-ko
aside:
  toc: true
key: 20210505
tags: 미분방정식
---

미분방정식의 해는 많은 경우 exponential 함수로 표현된다.

우리의 질문은 이렇게 귀결될 수 있다.

<center> <b> "왜 미분방정식의 해는 자연상수 e를 이용해 표현될까?" </b> </center>

미분방정식은 '성장'에 대한 기술(description)이기 때문이다.

# Prerequisites 

해당 내용에 대해 잘 이해하기 위해선 아래의 내용에 대해 잘 알고 오시는 것을 추천 드립니다.

* [자연상수 e의 의미](https://angeloyeo.github.io/2019/09/04/natural_number_e.html)
* [방향장과 오일러 방법](https://angeloyeo.github.io/2021/04/30/direction_fields.html)

# 미분방정식을 보는 또 다른 관점

미분방정식은 어렵다. 다르게 말하면 방정식을 푸는 방법들이 다양하고 복잡하다.

그래서 학부 과정에서 미분방정식을 가르치는 것은 솔루션을 구하는 복잡한 방법들을 외우고 숙지하고, 문제를 잘 푸는 과정에 집중되어 있는 지도 모르겠다.

그 와중에 우리는 미분 방정식이 갖는 좀 더 근원적인 의미를 탐구할 시간을 갖지 못하게 된 것 같다.

---

누군가 미분방정식을 생각하는 중요한 <u>철학적</u> 의미가 무엇인지 물어본다면 필자는 **되먹임(feedback)을 통한 연속 성장**이라고 얘기하고 싶다.

<p align = "center">
  <img src = "https://upload.wikimedia.org/wikipedia/commons/b/b0/General_Feedback_Loop.svg">
  <br>
  그림 1. 입력과 되먹임(feedback)이 있는 시스템의 블록 다이어그램
</p>

아래의 간단한 예제 식을 보자.

$$\frac{dx}{dt}=f(t,x) % 식 (1)$$

이 식의 좌변과 우변이 말하는 것은 무엇인가? 좌변은 매 시간 마다의 $x(t)$의 성장량에 대한 식임을 알려주고 우변에서는 그 성장량이 어떻게 계산되는지 알려주는 것이다.

미분방정식의 해는 초기값으로부터 주어진 성장량을 누적(즉, 적분)시켜가면서 얻은 결과물이다.

여기서 식 (1)에서 우변에 종속변수 $x$가 들어있다는 것이 매우 중요한데,

만약 우변에 독립변수 $t$에 관한 식만 들어있다면 이 미분방정식은 연속 성장에 관한 기술(description)이라고 보긴 어렵다.

아래의 두 식의 차이를 생각해보자.

$$\frac{dx}{dt}=t % 식 (2)$$

$$\frac{dx}{dt}=x % 식 (3)$$

식 (2)와 식 (3)은 모두 성장에 관한 레시피이다. 왜냐면 좌변에는 성장률이, 우변에는 그 성장량을 기술할 다항식이 적혀있기 때문이다.

즉, 매 시점에 얼마만큼 성장해야 하는지가 기술(description)되어 있다. 

하지만 식 (2) 우변의 $t$는 독립변수, 식 (3) 우변의 $x$는 종속변수이며, 우변에 $x$ 항이 있어야지만 feedback으로 작용할 수 있다는 것을 알 수 있다.

그림 1에서 보면 $x$는 출력으로 작용하는 값이다. 

또, [방향장과 오일러 방법](https://angeloyeo.github.io/2021/04/30/direction_fields.html)에서 본 것 처럼 출력된 $x$ 값으로 기울기 값이 계산되어 다음 독립변수 값에 대응하는 함수값을 추정해나가기 때문에 feedback으로 볼 수도 있는 것이다.

다시 말해, 출력값(종속변수)이 미분계수를 계산할 때 다시 활용된다는 점은 되먹임(feedback)을 의미하는 것이고, 이 되먹임을 통해 연속적으로 성장하는 일을 기술한 것이 미분방정식이라고 볼 수 있는 것이다.

# 오일러의 아이디어들

미분방정식의 해가 자연상수 e와 관련되어 있다는 것은 오일러의 철학이 많이 묻어나있는 것이라고 할 수 있을 것 같다.

오일러의 자연상수 e와 오일러 방법을 통한 미분방정식의 수치적 해는 모두 미분방정식이 연속 성장에 관한 서술임을 다시 한번 보여주고 있다.

## 자연상수 e를 이용한 연속 성장의 표현

[자연상수 e](https://angeloyeo.github.io/2019/09/04/natural_number_e.html)는 연속 성장에 관한 성장량을 말해준다고 언급한 바 있다.

이 때, 우리는 연속 성장에 대해 알기 위해서 어떤 예시를 확인했었는가?

복리의 개념을 적용할 때 처럼 우리는 매 시간마다 지금까지 얻어진 결과물에 성장 비율을 곱해줘서 다음 번 성장 값을 얻어냈다.

즉, 되먹임을 통한 연속 성장에 대해 생각해본 것이다.

구체적인 예시로써 다음과 같은 그림을 확인해보자.

<p align = "center">
  <img width = "600" src = "https://raw.githubusercontent.com/angeloyeo/angeloyeo.github.io/master/pics/2019-09-04_natural_number_e/pic2.png">
  <br>
  그림 2. 자연상수 e를 이해하는 과정에서 확인한 2회에 걸친 불연속 성장의 예시
</p>

위 그림에서는 2회에 걸쳐 불연속 성장을 했는데, 이 때, 1이라는 숫자를 1.5 곱해주고, 거기에 또 1.5를 한번 더 곱해주는 방식으로 결과값을 얻었다.

우리가 미분 방정식을 푸는 과정도 마찬가지의 방법을 도입하는 것이다.

가령 아래와 같은 아주 간단한 미분방정식이 있었다고 해보자.

$$\frac{dx}{dt}=f(t, x)$$

이 식은 매 시간 마다의 성장량을 적어놓은 레시피이다. 정말 그럴까? 위 식을 미분의 정의를 이용해 미분 계수를 풀어서 적어보자.

$$\lim_{h\rightarrow 0}\frac{x(t+h)-x(t)}{h}=f(t, x)$$

미분계수를 이해하는데 있어 가장 걸림돌이 되는 부분은 극한 개념의 도입이다. 

우리는 극소값 $h$를 $\Delta t$와 같은 생각해보기 쉬운 작은 값으로 바꿔 놓고 수식을 더 풀어보자.

$$\Rightarrow \frac{x(t+\Delta t)-x(t)}{\Delta t} = f(t, x)$$

그러면 아래와 같은 식이 보인다.

$$x(t+\Delta t) = x(t) + \Delta t f(t, x)$$

이 식이 말하는 것이 바로 현재 값 $x(t)$에서 $\Delta t f(t, x)$ 만큼 성장시켰을 때 다음번 스텝의 값 $x(t+\Delta t)$를 얻는다는 것이다.

주목할 점은 현재값은 이전 계산결과에서 부터 얻은 값이며 계속해서 성장량이 누적되어 간다는 점이다.

<p align = "center">
  <img width = "600" src= "https://raw.githubusercontent.com/angeloyeo/angeloyeo.github.io/master/pics/2021-05-05-ODE_and_natural_number_e/pic2.png">
  <br>
  그림 3. 미분방정식은 연속 성장을 통해 매 스텝마다 함수의 값이 어떻게 변해가는지를 기술한 것이다.
</p>

여기서 생각하는 타입 스텝 $\Delta t$는 실제 미분방정식을 생각할 때는 매우 작은 시간 단위에 대해 생각하는 것이므로, 우리는 이것을 연속성장과 관련된 값이라고 볼 수 있다.

그러다보니 미분방정식의 해는 자연상수 $e$를 이용해 표현되는 경우가 많다.

## 오일러 방법을 통한 수치적 해 (numerical solutions)

미분방정식의 수치적 해법으로 오일러 방법을 제안한 것도 연속 성장을 생각하는 것과 같은 맥락으로 미분 방정식의 해를 생각하는 것이다.

여러 짧은 구간으로 나눠 변화를 축적시켜 가는 것이 오일러 방법이 미분방정식의 해를 구하는 방법이다.

다시 말해 오일러 방법의 핵심은 적당한 시간 구간 마다 불연속 성장을 시켜줘서 최대한 연속 성장에 가까운 결과물을 얻는 것이다.

여기서 매 시간 구간에서 얼마만큼 성장해야 할지를 표현한 것이 미분 방정식이 얘기해주는 것이라고 할 수 있다.

이것을 이용해 수치적으로 해를 구하는 방법이 오일러 방법이라고 할 수 있다.

<p align = "center">
  <img width = "600" src= "https://raw.githubusercontent.com/angeloyeo/angeloyeo.github.io/master/pics/2021-05-05-ODE_and_natural_number_e/pic3.png">
  <br>
  그림 4. 오일러 방법은 미분방정식이 연속적으로 성장하는 과정이라는 것을 이용해 수치적으로 해를 구하는 과정이라고 할 수 있다.
</p>
